<% content_for :title, "์ค์" %>

<!-- ํ์ด์ง ์๋ชฉ -->
<div class="mb-8">
  <h2 class="text-3xl font-bold text-gray-800 mb-2">โ๏ธ ์์คํ ์ค์</h2>
  <p class="text-gray-600">ํ๋ซํผ ์ค์์ ๊ด๋ฆฌํ๊ณ ๊ตฌ์ฑํ์ธ์</p>
</div>

<!-- ์ค์ ์น์๋ค -->
<div class="space-y-8">
  <!-- ์ผ๋ฐ ์ค์ -->
  <% if @settings['general']&.any? %>
    <div class="bg-white rounded-lg shadow-md p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">๐ง ์ผ๋ฐ ์ค์</h3>
      <div class="space-y-4">
        <% @settings['general'].each do |setting| %>
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div class="flex-1">
              <div class="font-medium text-gray-900"><%= setting.key %></div>
              <div class="text-sm text-gray-500"><%= setting.description %></div>
            </div>
            <div class="flex items-center space-x-2">
              <%= form_with model: setting, url: admin_update_setting_path(setting), method: :patch, local: true, class: "flex items-center space-x-2" do |f| %>
                <% if setting.value.in?(['true', 'false']) %>
                  <%= f.check_box :value, { checked: setting.value == 'true', class: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }, 'true', 'false' %>
                <% elsif setting.value.match?(/^\d+$/) %>
                  <%= f.number_field :value, value: setting.value, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% elsif setting.value.match?(/^\d+\.\d+$/) %>
                  <%= f.number_field :value, value: setting.value, step: 0.01, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% else %>
                  <%= f.text_field :value, value: setting.value, class: "w-40 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% end %>
                <%= f.submit "์์ฅ", class: "bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- ๊ฒฐ์ ์ค์ -->
  <% if @settings['payment']&.any? %>
    <div class="bg-white rounded-lg shadow-md p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">๐ณ ๊ฒฐ์ ์ค์</h3>
      <div class="space-y-4">
        <% @settings['payment'].each do |setting| %>
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div class="flex-1">
              <div class="font-medium text-gray-900"><%= setting.key %></div>
              <div class="text-sm text-gray-500"><%= setting.description %></div>
            </div>
            <div class="flex items-center space-x-2">
              <%= form_with model: setting, url: admin_update_setting_path(setting), method: :patch, local: true, class: "flex items-center space-x-2" do |f| %>
                <% if setting.value.in?(['true', 'false']) %>
                  <%= f.check_box :value, { checked: setting.value == 'true', class: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }, 'true', 'false' %>
                <% elsif setting.value.match?(/^\d+$/) %>
                  <%= f.number_field :value, value: setting.value, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% elsif setting.value.match?(/^\d+\.\d+$/) %>
                  <%= f.number_field :value, value: setting.value, step: 0.01, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% else %>
                  <%= f.text_field :value, value: setting.value, class: "w-40 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% end %>
                <%= f.submit "์์ฅ", class: "bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- ์๋ฆผ ์ค์ -->
  <% if @settings['notification']&.any? %>
    <div class="bg-white rounded-lg shadow-md p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">๐ ์๋ฆผ ์ค์</h3>
      <div class="space-y-4">
        <% @settings['notification'].each do |setting| %>
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div class="flex-1">
              <div class="font-medium text-gray-900"><%= setting.key %></div>
              <div class="text-sm text-gray-500"><%= setting.description %></div>
            </div>
            <div class="flex items-center space-x-2">
              <%= form_with model: setting, url: admin_update_setting_path(setting), method: :patch, local: true, class: "flex items-center space-x-2" do |f| %>
                <% if setting.value.in?(['true', 'false']) %>
                  <%= f.check_box :value, { checked: setting.value == 'true', class: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }, 'true', 'false' %>
                <% elsif setting.value.match?(/^\d+$/) %>
                  <%= f.number_field :value, value: setting.value, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% elsif setting.value.match?(/^\d+\.\d+$/) %>
                  <%= f.number_field :value, value: setting.value, step: 0.01, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% else %>
                  <%= f.text_field :value, value: setting.value, class: "w-40 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% end %>
                <%= f.submit "์์ฅ", class: "bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- ๊ฒ์ ์ค์ -->
  <% if @settings['game']&.any? %>
    <div class="bg-white rounded-lg shadow-md p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">๐ ๊ฒ์ ์ค์</h3>
      <div class="space-y-4">
        <% @settings['game'].each do |setting| %>
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div class="flex-1">
              <div class="font-medium text-gray-900"><%= setting.key %></div>
              <div class="text-sm text-gray-500"><%= setting.description %></div>
            </div>
            <div class="flex items-center space-x-2">
              <%= form_with model: setting, url: admin_update_setting_path(setting), method: :patch, local: true, class: "flex items-center space-x-2" do |f| %>
                <% if setting.value.in?(['true', 'false']) %>
                  <%= f.check_box :value, { checked: setting.value == 'true', class: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }, 'true', 'false' %>
                <% elsif setting.value.match?(/^\d+$/) %>
                  <%= f.number_field :value, value: setting.value, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% elsif setting.value.match?(/^\d+\.\d+$/) %>
                  <%= f.number_field :value, value: setting.value, step: 0.01, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% else %>
                  <%= f.text_field :value, value: setting.value, class: "w-40 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% end %>
                <%= f.submit "์์ฅ", class: "bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- ์ฌ์ฉ์ ์ค์ -->
  <% if @settings['user']&.any? %>
    <div class="bg-white rounded-lg shadow-md p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">๐ค ์ฌ์ฉ์ ์ค์</h3>
      <div class="space-y-4">
        <% @settings['user'].each do |setting| %>
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div class="flex-1">
              <div class="font-medium text-gray-900"><%= setting.key %></div>
              <div class="text-sm text-gray-500"><%= setting.description %></div>
            </div>
            <div class="flex items-center space-x-2">
              <%= form_with model: setting, url: admin_update_setting_path(setting), method: :patch, local: true, class: "flex items-center space-x-2" do |f| %>
                <% if setting.value.in?(['true', 'false']) %>
                  <%= f.check_box :value, { checked: setting.value == 'true', class: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }, 'true', 'false' %>
                <% elsif setting.value.match?(/^\d+$/) %>
                  <%= f.number_field :value, value: setting.value, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% elsif setting.value.match?(/^\d+\.\d+$/) %>
                  <%= f.number_field :value, value: setting.value, step: 0.01, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% else %>
                  <%= f.text_field :value, value: setting.value, class: "w-40 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% end %>
                <%= f.submit "์์ฅ", class: "bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- ์์คํ ์ค์ -->
  <% if @settings['system']&.any? %>
    <div class="bg-white rounded-lg shadow-md p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">๐๏ธ ์์คํ ์ค์</h3>
      <div class="space-y-4">
        <% @settings['system'].each do |setting| %>
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div class="flex-1">
              <div class="font-medium text-gray-900"><%= setting.key %></div>
              <div class="text-sm text-gray-500"><%= setting.description %></div>
            </div>
            <div class="flex items-center space-x-2">
              <%= form_with model: setting, url: admin_update_setting_path(setting), method: :patch, local: true, class: "flex items-center space-x-2" do |f| %>
                <% if setting.value.in?(['true', 'false']) %>
                  <%= f.check_box :value, { checked: setting.value == 'true', class: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }, 'true', 'false' %>
                <% elsif setting.value.match?(/^\d+$/) %>
                  <%= f.number_field :value, value: setting.value, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% elsif setting.value.match?(/^\d+\.\d+$/) %>
                  <%= f.number_field :value, value: setting.value, step: 0.01, class: "w-20 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% else %>
                  <%= f.text_field :value, value: setting.value, class: "w-40 px-2 py-1 border border-gray-300 rounded text-sm" %>
                <% end %>
                <%= f.submit "์์ฅ", class: "bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<!-- ๋น ์ค์ ์๋ด -->
<% if @settings.empty? %>
  <div class="bg-white rounded-lg shadow-md p-8 text-center">
    <div class="text-gray-500">
      <div class="text-4xl mb-4">โ๏ธ</div>
      <p class="text-lg">์ค์ ํญ๋ชฉ์ด ์์ต๋๋ค.</p>
      <p class="text-sm text-gray-400 mt-2">์์คํ ์ค์์ ์ด๊ธฐํํ๋ค๋ฉด ๊ด๋ฆฌ์์๊ฒ ๋ฌธ์ํ์ธ์.</p>
    </div>
  </div>
<% end %>