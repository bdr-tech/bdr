<div class="container mx-auto px-4 py-8 max-w-7xl">
  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-3xl font-bold text-gray-900">경기 로그</h1>
        <p class="text-gray-600 mt-1">모든 경기 상세 기록</p>
      </div>
      <%= link_to "통계 대시보드로 돌아가기", stats_path, 
          class: "text-blue-600 hover:text-blue-800" %>
    </div>
  </div>

  <!-- Game Log Table -->
  <div class="bg-white rounded-lg shadow-lg overflow-hidden">
    <% if @stats.any? %>
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">날짜</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">경기장</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">MIN</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">PTS</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">FGM-A</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">3PM-A</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">FTM-A</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">OREB</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">DREB</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">REB</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">AST</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">STL</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">BLK</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">TO</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">PF</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">+/-</th>
              <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">GmSc</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <% @stats.each do |stat| %>
              <tr class="hover:bg-gray-50">
                <td class="px-4 py-3 whitespace-nowrap text-sm">
                  <%= stat.game.scheduled_at.strftime("%Y-%m-%d") %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm">
                  <%= link_to stat.game.court.name, court_path(stat.game.court), 
                      class: "text-blue-600 hover:text-blue-800" %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.minutes_played %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center font-bold">
                  <%= stat.points %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.field_goals_made %>-<%= stat.field_goals_attempted %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.three_pointers_made %>-<%= stat.three_pointers_attempted %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.free_throws_made %>-<%= stat.free_throws_attempted %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.offensive_rebounds %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.defensive_rebounds %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center font-semibold">
                  <%= stat.total_rebounds %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center font-semibold">
                  <%= stat.assists %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.steals %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.blocks %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.turnovers %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <%= stat.personal_fouls %>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
                  <span class="<%= stat.plus_minus >= 0 ? 'text-green-600' : 'text-red-600' %>">
                    <%= stat.plus_minus > 0 ? '+' : '' %><%= stat.plus_minus %>
                  </span>
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sm text-center font-medium">
                  <%= stat.game_score %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
      
      <!-- Pagination -->
      <div class="px-4 py-3 bg-gray-50">
        <%= paginate @stats %>
      </div>
    <% else %>
      <div class="text-center py-12">
        <p class="text-gray-500">경기 기록이 없습니다.</p>
      </div>
    <% end %>
  </div>

  <!-- Stats Legend -->
  <div class="mt-6 bg-gray-100 rounded-lg p-4">
    <h3 class="font-semibold text-gray-700 mb-2">약어 설명</h3>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600">
      <div>MIN: 출전시간</div>
      <div>PTS: 득점</div>
      <div>FGM-A: 필드골 성공-시도</div>
      <div>3PM-A: 3점슛 성공-시도</div>
      <div>FTM-A: 자유투 성공-시도</div>
      <div>OREB: 공격 리바운드</div>
      <div>DREB: 수비 리바운드</div>
      <div>REB: 총 리바운드</div>
      <div>AST: 어시스트</div>
      <div>STL: 스틸</div>
      <div>BLK: 블록</div>
      <div>TO: 턴오버</div>
      <div>PF: 개인 파울</div>
      <div>+/-: 플러스마이너스</div>
      <div>GmSc: 게임 스코어</div>
    </div>
  </div>
</div>