# 🏀 BDR 플랫폼 요구사항 명세서

## 📋 목차
1. [프로젝트 개요](#프로젝트-개요)
2. [기능 요구사항](#기능-요구사항)
3. [비기능 요구사항](#비기능-요구사항)
4. [기술 요구사항](#기술-요구사항)
5. [보안 요구사항](#보안-요구사항)
6. [성능 요구사항](#성능-요구사항)
7. [운영 요구사항](#운영-요구사항)

## 프로젝트 개요

### 프로젝트명
BDR (Basketball Daily Routine) - 농구 경기 예약 및 관리 플랫폼

### 목표
농구를 사랑하는 사람들이 쉽고 빠르게 경기를 찾고, 참가하며, 관리할 수 있는 통합 플랫폼 제공

### 핵심 가치
- **3초 룰**: 3번의 클릭으로 경기 참가 완료
- **신뢰성**: 안전한 결제와 검증된 사용자
- **커뮤니티**: 농구 커뮤니티 활성화

## 기능 요구사항

### 1. 사용자 관리 (User Management)

#### 1.1 회원가입/로그인
- [x] 이메일 기반 회원가입
- [x] 세션 기반 로그인/로그아웃
- [x] 프로필 완성도 표시 (70% 이상 필수)
- [ ] 소셜 로그인 연동 (카카오, 네이버, 구글)
- [ ] 이메일 인증

#### 1.2 프로필 관리
- [x] 기본 정보: 이름, 닉네임, 연락처
- [x] 신체 정보: 키, 몸무게, 나이
- [x] 농구 정보: 포지션, 경력, 플레이 스타일
- [x] 지역 정보: 시/도, 구/군
- [x] 계좌 정보: 은행, 계좌번호 (호스트용)
- [ ] 프로필 사진 업로드
- [ ] 실력 인증 시스템

#### 1.3 사용자 등급
- [x] 일반 사용자
- [x] 호스트 인증
- [x] 관리자
- [ ] 프리미엄 회원

### 2. 경기 관리 (Game Management)

#### 2.1 경기 생성
- [x] 3단계 경기 생성 프로세스
- [x] 경기 유형: 픽업게임, 게스트모집, TvT연습경기
- [x] 경기 정보: 날짜, 시간, 장소, 참가비
- [x] 유니폼 색상 선택 (최대 2개)
- [x] 고유 경기 ID 자동 생성
- [ ] 반복 경기 생성
- [ ] 경기 템플릿

#### 2.2 경기 검색/필터
- [x] 날짜별 검색
- [x] 지역별 필터
- [x] 경기 유형 필터
- [x] 레벨별 필터
- [ ] 지도 기반 검색
- [ ] 실시간 알림

#### 2.3 경기 참가
- [x] 2단계 승인 프로세스
- [x] 신청 → 승인 → 결제 → 최종승인
- [x] 참가 제한 (프로필 완성도, 취소 이력)
- [x] 대기자 명단
- [ ] 자동 매칭 시스템
- [ ] 팀 단위 참가

### 3. 결제 시스템 (Payment System)

#### 3.1 결제 처리
- [x] TossPayments SDK v1 통합
- [x] 직접 결제 (원클릭)
- [x] 플랫폼 수수료 5%
- [x] 결제 상태 추적
- [ ] 다양한 결제 수단 지원
- [ ] 환불 시스템

#### 3.2 정산 관리
- [x] 호스트 수익 계산
- [x] 수수료 자동 계산
- [ ] 자동 정산 시스템
- [ ] 정산 내역 관리

### 4. 평가 시스템 (Rating System)

#### 4.1 상호 평가
- [x] 경기 후 평가 시스템
- [x] 호스트/게스트 상호 평가
- [ ] 평점 통계
- [ ] 배지/업적 시스템

#### 4.2 신뢰도 관리
- [x] 취소 횟수 추적
- [x] 참가 제한 시스템
- [ ] 신고 시스템
- [ ] 계정 제재

### 5. 커뮤니티 (Community)

#### 5.1 게시판
- [x] 자유게시판
- [x] 공지사항
- [x] 팀 모집
- [x] 댓글 시스템
- [ ] 중고거래
- [ ] 코트 리뷰

#### 5.2 소통 기능
- [ ] 실시간 채팅
- [ ] 팀 채팅방
- [ ] 알림 센터

### 6. 관리자 기능 (Admin)

#### 6.1 대시보드
- [x] 통계 대시보드
- [x] 사용자 관리
- [x] 경기 관리
- [x] 결제 관리
- [ ] 실시간 모니터링

#### 6.2 운영 도구
- [x] 시스템 설정
- [x] 공지사항 관리
- [ ] 배너 관리
- [ ] 쿠폰/프로모션

## 비기능 요구사항

### 1. 사용성 (Usability)
- 3초 룰: 3번의 클릭으로 핵심 기능 접근
- 직관적인 UI/UX
- 모바일 반응형 디자인
- 다국어 지원 (한국어 우선)

### 2. 확장성 (Scalability)
- 동시 접속자 100명 이상 지원
- 경기 데이터 100,000개 이상 처리
- 수평적 확장 가능 구조

### 3. 가용성 (Availability)
- 99.9% 가동률 목표
- 계획된 다운타임 최소화
- 장애 복구 시간 < 1시간

### 4. 호환성 (Compatibility)
- 최신 브라우저 지원 (Chrome, Safari, Edge)
- 모바일 브라우저 지원
- iOS/Android 앱 호환 (향후)

## 기술 요구사항

### 1. Backend
- Ruby on Rails 8.0.2+
- Ruby 3.2.0+
- RESTful API 설계
- 세션 기반 인증

### 2. Database
- 개발: SQLite3
- 운영: PostgreSQL
- 데이터 백업 일 1회
- 인덱스 최적화

### 3. Frontend
- Tailwind CSS
- Turbo (Rails)
- Vanilla JavaScript
- 반응형 디자인

### 4. Infrastructure
- 개발: 로컬 서버
- 스테이징: Heroku
- 운영: AWS/Railway
- CDN: CloudFlare

### 5. 외부 연동
- TossPayments API
- 카카오맵 API (예정)
- SMS 발송 서비스 (예정)
- 이메일 서비스 (예정)

## 보안 요구사항

### 1. 인증/인가
- [x] 세션 기반 인증
- [x] CSRF 토큰 보호
- [ ] 2단계 인증
- [ ] OAuth 2.0

### 2. 데이터 보호
- [x] 비밀번호 암호화 (bcrypt)
- [x] 개인정보 보호
- [ ] HTTPS 전송
- [ ] 데이터 암호화

### 3. 보안 감사
- [x] 로그인 기록
- [ ] 접근 로그
- [ ] 보안 이벤트 모니터링
- [ ] 정기 보안 점검

## 성능 요구사항

### 1. 응답 시간
- 페이지 로딩: < 2초
- API 응답: < 500ms
- 검색 결과: < 1초
- 결제 처리: < 10초

### 2. 처리량
- 동시 사용자: 100명+
- 초당 요청: 100 RPS
- 데이터베이스 쿼리: < 100ms

### 3. 리소스 사용
- CPU 사용률: < 70%
- 메모리 사용: < 4GB
- 디스크 I/O: 최적화

## 운영 요구사항

### 1. 모니터링
- [ ] 실시간 서버 모니터링
- [ ] 에러 추적 (Sentry)
- [ ] 성능 모니터링 (New Relic)
- [ ] 로그 수집 (ELK Stack)

### 2. 배포
- [ ] CI/CD 파이프라인
- [ ] 무중단 배포
- [ ] 롤백 전략
- [ ] 배포 자동화

### 3. 백업/복구
- [ ] 일일 데이터 백업
- [ ] 재해 복구 계획
- [ ] 백업 테스트
- [ ] 복구 시간 목표: < 4시간

### 4. 유지보수
- 정기 보안 패치
- 의존성 업데이트
- 성능 최적화
- 버그 수정

## 개발 일정

### Phase 1 (현재 완료)
- [x] 기본 사용자 시스템
- [x] 경기 생성/참가
- [x] 결제 시스템
- [x] 관리자 기능

### Phase 2 (진행 중)
- [ ] 평가 시스템 고도화
- [ ] 알림 시스템
- [ ] 모바일 최적화
- [ ] 성능 개선

### Phase 3 (계획)
- [ ] 모바일 앱
- [ ] 실시간 기능
- [ ] AI 매칭
- [ ] 국제화

## 제약사항

### 1. 기술적 제약
- 초기 버전은 웹 전용
- 실시간 기능 제한적
- 외부 API 의존성

### 2. 비즈니스 제약
- 플랫폼 수수료 5% 고정
- 한국 시장 우선
- B2C 모델 중심

### 3. 법적 제약
- 개인정보보호법 준수
- 전자상거래법 준수
- 결제 관련 규정 준수

---
*최종 업데이트: 2025-07-23*
*작성자: BDR 개발팀*