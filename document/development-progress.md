# 🏀 BDR 프로젝트 개발 진행 상황

## 📅 업데이트 일자: 2025-07-18

## 🎯 프로젝트 개요
BDR(Basketball Reservation) - 농구 경기 예약 및 관리 플랫폼

## ✅ 완료된 주요 기능들

### 1. 사용자 관리 시스템
- **회원가입/로그인**: 기본 인증 시스템
- **프로필 관리**: 개인정보, 농구 경력, 포지션 관리
- **프로필 완성도**: 진행률 표시 및 완성도 기반 기능 제한
- **은행 계좌 정보**: 호스트 수익 정산용 계좌 정보 관리

### 2. 경기 관리 시스템
- **경기 생성**: 3단계 마법사 형태의 경기 생성
- **경기 분류**: 픽업게임, 게스트모집, TvT연습경기
- **경기 상세 정보**: 장소, 시간, 참가비, 레벨 등
- **유니폼 색상 선택**: 최대 2개 색상 선택 기능 (NEW)
- **경기 ID 시스템**: 고유 ID 자동 생성 (BDR-YYYYMMDD-TYPE-SEQ)

### 3. 참가 신청 시스템
- **2단계 승인 프로세스**: 
  1. 신청 → 승인 대기
  2. 승인 → 결제 대기 (유료 경기)
  3. 결제 완료 → 최종 승인
- **신청자 관리**: 호스트 전용 관리 인터페이스
- **참가 제한**: 취소 횟수 기반 제한, 프로필 완성도 기반 제한

### 4. 결제 시스템
- **TossPayments 통합**: SDK v1 사용
- **직접 결제**: 중간 페이지 없는 원클릭 결제
- **결제 상태 추적**: 대기, 완료, 실패 상태 관리
- **호스트 수익 관리**: 플랫폼 수수료 5% 제외 후 정산

### 5. 호스트 관리 기능
- **수익 계산**: 최종 승인자 수 × 참가비 = 총액 표시
- **신청자 관리**: 단계별 신청 상태 관리
- **입금 확인**: 수동 입금 확인 기능

### 6. 코트 관리 시스템
- **코트 정보**: 실내/실외, 주소, 시설 정보
- **시설 요구사항**: 주차, 샤워실, 정수기, 에어컨 등
- **야외 코트 등록**: 사용자 등록 야외 코트

### 7. 커뮤니티 기능
- **게시판**: 공지사항, 자유게시판, 팀 모집
- **댓글 시스템**: 대댓글 지원
- **조회수 관리**: 게시글 조회수 추적

## 🔧 기술 스택

### Backend
- **Framework**: Ruby on Rails 8.0.2
- **Database**: SQLite3 (개발), PostgreSQL (운영)
- **Authentication**: Custom session-based auth
- **Payment**: TossPayments SDK v1

### Frontend
- **CSS Framework**: Tailwind CSS
- **JavaScript**: Vanilla JS + Turbo
- **UI Components**: Custom components
- **Icons**: Emoji + Custom icons

### Development Tools
- **Version Control**: Git
- **MCP Integration**: TossPayments MCP
- **Testing**: RSpec (설정 예정)
- **Deployment**: Heroku (설정 예정)

## 📊 데이터베이스 현황

### 주요 테이블
- **users**: 사용자 정보 (326개 컬럼)
- **games**: 경기 정보 (195개 컬럼)
- **game_applications**: 참가 신청 (123개 컬럼)
- **payments**: 결제 정보 (229개 컬럼)
- **courts**: 코트 정보
- **posts**: 게시글
- **comments**: 댓글

### 최근 스키마 업데이트 (2025-07-18)
- **성능 최적화**: 주요 인덱스 추가
- **결제 추적**: 결제 관련 필드 추가
- **감사 추적**: 상태 변경 로그
- **알림 시스템**: 사용자 알림 설정
- **유니폼 색상**: 경기별 유니폼 색상 선택

## 📱 주요 화면

### 사용자 화면
1. **홈**: 오늘의 경기, 근처 경기
2. **경기 목록**: 필터링, 검색 기능
3. **경기 상세**: 참가 신청, 결제
4. **프로필**: 개인정보, 참가 이력
5. **경기 생성**: 3단계 마법사

### 호스트 화면
1. **신청자 관리**: 단계별 승인 프로세스
2. **수익 관리**: 실시간 수익 계산
3. **경기 관리**: 경기 수정, 취소

## 🚀 최근 구현 사항 (2025-07-18)

### 1. 호스트 수익 표시
- 프로필 화면에 수익 계산 표시
- 플랫폼 수수료 5% 제외 안내

### 2. 신청자 관리 개선
- 경기 상세 페이지에서 신청자 관리 섹션을 경기 정보 위로 이동
- 3단계 승인 프로세스 시각화

### 3. 유니폼 색상 선택 기능
- 새 게임 만들기 2단계에 유니폼 색상 선택 추가
- 5가지 색상 중 최대 2개 선택 가능
- 시각적 색상 표시 및 선택 상태 관리

## 🎯 다음 개발 예정 사항

### 단기 목표 (1-2주)
- [ ] 알림 시스템 구현
- [ ] 경기 취소/환불 기능
- [ ] 리뷰 및 평점 시스템
- [ ] 모바일 반응형 개선

### 중기 목표 (1달)
- [ ] 실시간 채팅 기능
- [ ] 경기 결과 기록 시스템
- [ ] 통계 및 분석 기능
- [ ] 관리자 대시보드

### 장기 목표 (2-3달)
- [ ] 모바일 앱 (React Native)
- [ ] 소셜 로그인 연동
- [ ] 지도 기반 코트 검색
- [ ] 프로 리그 연동

## 📈 성능 및 최적화

### 데이터베이스 최적화
- 주요 쿼리 인덱스 추가
- 복합 인덱스 활용
- 데이터 무결성 제약 조건

### 프론트엔드 최적화
- Turbo 활용한 SPA 경험
- 이미지 최적화 (예정)
- 코드 스플리팅 (예정)

## 🛠️ 운영 및 배포

### 현재 상태
- 개발 환경: Rails server (로컬)
- 데이터베이스: SQLite3
- 버전 관리: Git

### 배포 계획
- 스테이징: Heroku
- 프로덕션: AWS or Railway
- 모니터링: New Relic (예정)
- 로깅: Papertrail (예정)

## 📞 연락처 및 문의
- 개발자: BDR 개발팀
- 이메일: support@bdr-platform.com
- GitHub: https://github.com/bdr-platform/bdr-project

---
*최종 업데이트: 2025-07-18*